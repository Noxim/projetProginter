<head>
  <title>projetProginter</title>
  <script>
//script d'initialisation du calendrier. Il DOIT être ici d'après le tuto
 $(document).ready(function() {
      $('#calendar').fullCalendar({
      		aspectratio: 200,
      		height:'auto',
      		contentheight:25,

            dayClick: function(date,jsEvent,view) {
            	//Si vous vous emmerdez, trouvez le moyen de changer la couleur de background du calendrier lorsqu'on clique sur un jour.
                (this).css('background-color','lightblue'); //Cette déclaration marche, mais la case reste bleue pour toujours et à jamais.
                Session.set('selectedDay', date.format());
                alert(Session.get("selectedDay"));
            }
    });
  });
  </script>
</head>

<body>
  	<h1>Projet Proginter</h1>
  {{>loginButtons}}<br>
  <div id="calendar" style="display:none"></div><!--il doit absolument reser ici et initialisé, peu importe ce que vous faites. Utilisez la methode changePage pour passer d'une page a l'autre. Si vous mettez l'argument 'formulaire', le style va devenir "null" et le calendrier apparaîtra.-->
  {{> pageAccueil}}
  {{> formulaire}}



<!-- attention, ce qui suit est un filler sans conséquence, juste pour me permettre de scroll down-->
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>Lelles
	
</body>

<!-- Templates primaires-->
<template name="pageAccueil">
  <input type="button" class="apparitionFormulaire" value="Faire apparaître le formulaire">
</template>

<template name="profil">

</template>

<template name="formulaire">
{{# if isActive}}
  {{> formulaireChargeur}}<br>
  {{> formulaireListe}}<br>
  {{> formulaireInvite}}<br>
  {{> formulaireBlocTexte}}
{{/if}}

</template>

<template name="evenement">

</template>

<!-- Templates secondaires-->

<template name="formulaireChargeur"><!--Template qui permet de charger un événement archivé-->
"Archives disponibles:"
  <ul>
    {{#each archives}}
      <li class="archive {{selectedClass}}">Événement du : {{date}}</li>
    {{/each}}
  </ul> 
  <input type="button" class="chargeur" value="Charger cet événement">
  <input type="button" class="remove" value="Supprimer archive">
</template><!--fin formulaireChargeur-->


<template name="formulaireListe"><!--Template de la liste d'objets du formulaire-->
	<ul>
		{{#each items}}
			<li class="item {{selectedClass}}">{{name}} : {{quantity}}</li>
		{{/each}}
	</ul>	
	<form class='itemNameForm'>
    <input type="text" name="itemName" id='champNomItem'>
    <input type="submit" value="Ajouter Objet">
    <input type="button" class="remove" value="Enlever objet">
  </form>
  <form class="itemNumberForm">
    <input type='number' name='itemNumber' placeholder=1 min=1>
    <input type='submit' value='Modifier Quantité'>
  </form>
</template><!--fin formulaireListe-->

<template name="formulaireInvite">
  <ul>
    {{#each invites}}
      <li class="invite {{selectedClass}}">{{name}}</li>
    {{/each}}
  </ul> 
  <form class='inviteNameForm'>
    <input type="text" name="inviteName" id='champNomInvite'>
    <input type="submit" value="Ajouter invité">
    <input type="button" class="remove" value="Enlever invité">
  </form>
</template>

<template name="formulaireBlocTexte"><!--ce template contiens les éléments de confirmation et le bloc de message-->
	<textarea placeholder="Entrez votre message ici, max 255 caractères" id="blocTexte" rows="6" cols="50" maxlength=255></textarea>
	<input type="button" class="eventValid" value="Confirmer événement /!\, la liste d'objet sera effacée/!\">
  <input type="button" class="eventSave" value="Archiver l'événement">
</template><!--fin formulaireBlocTexte-->